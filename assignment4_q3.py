
# Question 3

def smooth(i: int, wave: list[int]) -> int:
    if i == 0:
        return int(wave[i] * 0.6 + wave[i + 1] * 0.2)
    elif i == len(wave) - 1:
        return int(wave[i - 1] * 0.2 + wave[i] * 0.6)
    else:
        return int(wave[i - 1] * 0.2 + wave[i] * 0.6 + wave[i + 1] * 0.2)
    
def filter_wave(wave: list[int], times: int) -> list[int]:
    if times < 0:
        return
    if times == 0:
        return wave
    return filter_wave([smooth(i, wave) for i in range(len(wave))], times - 1)


def question_3() -> None:
    # from assignment4_skeleton.py
    original_wave_sample = [0, 3, 7, 14, 18, 24, 23, 29, 28, 30, 32, 35, 31, 34, 32, 30, 25, 25, 24, 23, 18, 14, 15, 14, 12, 12, 7, 8, 10, 9, 5, 8, 8, 8, 8, 5, 6, 4, 2, 2, 3, -1, -5, -4, -9, -9, -14, -16, -17, -18, -23, -24, -25, -25, -23, -20, -20, -16, -17, -11, -7, -7, 0, 3, 6, 8, 15, 18, 19, 24, 27, 24, 28, 25, 29, 27, 26, 22, 20, 16, 13, 13, 11, 7, 4, 0, 0, 0, 0, -3, -6, -6, -7, -6, -5, -7, -6, -6, -6, -6, -7, -9, -13, -11, -17, -16, -22, -24, -23, -27, -29, -30, -34, -33, -34, -37, -34, -32, -33, -28, -28, -23, -18, -13, -10, -8, 0, 3, 10, 12, 15, 22, 22, 27, 29, 31, 31, 29, 31, 27, 26, 27, 24, 20, 17, 17, 14, 11, 12, 8, 6, 5, 8, 6, 3, 6, 7, 4, 7, 6, 7, 6, 5, 4, 2, 0, -2, -3, -6, -7, -12, -14, -16, -15, -18, -21, -22, -23, -26, -26, -22, -23, -21, -18, -13, -9, -8, -3, -1, 6, 10, 12, 17, 20, 23, 25, 28, 30, 30, 30, 27, 25, 26, 24, 19, 18, 17, 12, 12, 8, 7, 4, 0, -2, -2, -1, -1, -6, -4, -4, -3, -5, -7, -8, -5, -5, -7, -10, -10, -12, -17, -17, -22, -21, -25, -29, -29, -32, -35, -34, -32, -33, -33, -33, -33, -28, -24, -22, -18, -15, -9, -6, 0, 6, 9, 11, 16, 22, 22, 24, 25, 29, 30, 31, 28, 29, 27, 22, 22, 20, 16, 17, 15, 14, 10, 10, 6, 8, 4, 4, 7, 4, 7, 7, 6, 6, 3, 7, 2, 2, 4, 1, 0, -2, -3, -7, -8, -13, -14, -16]

    # test_wave_1 and test_wave_200 are copied and pasted from Cosmology
    test_wave_1 = [600, 3200, 7600, 13400, 18400, 22600, 24400, 27600, 28600, 30000, 32200, 33600, 32400, 33000, 32000, 29400, 26000, 24800, 24000, 22200, 18200, 15000, 14600, 13800, 12400, 11000, 8200, 8200, 9400, 8400, 6400, 7400, 8000, 8000, 7400, 5800, 5400, 4000, 2400, 2200, 2000, -1000, -4000, -5200, -8000, -10000, -13400, -15800, -17000, -18800, -22200, -24000, -24800, -24600, -22800, -20600, -19200, -17000, -15600, -11400, -7800, -5600, -800, 3000, 5800, 9000, 14200, 17600, 19800, 23600, 25800, 25400, 26600, 26400, 27800, 27200, 25400, 22400, 19600, 16200, 13600, 12600, 10600, 7200, 3800, 800, 0, 0, -600, -3000, -5400, -6200, -6600, -6000, -5600, -6400, -6200, -6000, -6000, -6200, -7200, -9400, -11800, -12600, -15600, -17400, -21200, -23400, -24000, -26600, -28800, -30600, -33000, -33400, -34400, -35800, -34200, -32600, -31800, -29000, -27000, -23000, -18000, -13400, -10200, -6800, -1000, 3800, 9000, 12200, 15800, 20600, 23000, 26400, 29000, 30600, 30600, 29800, 29800, 27600, 26400, 26200, 23800, 20200, 17600, 16400, 14000, 11800, 11000, 8400, 6200, 5800, 7000, 5800, 4200, 5600, 6200, 5200, 6200, 6400, 6600, 6000, 5000, 3800, 2000, 0, -1800, -3400, -5600, -7800, -11400, -14000, -15400, -15800, -18000, -20600, -22000, -23400, -25400, -25200, -23000, -22400, -20800, -17600, -13200, -9600, -7200, -3600, 0, 5400, 9600, 12600, 16600, 20000, 22800, 25200, 27800, 29600, 30000, 29400, 27200, 25600, 25400, 23400, 19800, 18000, 16200, 13000, 11200, 8600, 6600, 3800, 400, -1600, -1800, -1200, -2000, -4600, -4400, -3800, -3600, -5000, -6800, -7200, -5600, -5400, -7200, -9400, -10400, -12600, -16000, -18000, -20800, -22000, -25000, -28200, -29600, -32000, -34200, -33800, -32600, -32800, -33000, -33000, -32000, -28200, -24400, -21600, -18200, -14400, -9600, -5400, 0, 5400, 8800, 11600, 16200, 20800, 22400, 23800, 25600, 28400, 30000, 30200, 28800, 28400, 26400, 23000, 21600, 19600, 17000, 16400, 15200, 13400, 10800, 9200, 7200, 6800, 4800, 4600, 5800, 5200, 6400, 6800, 6200, 5400, 4400, 5200, 3000, 2400, 3000, 1400, -200, -1800, -3600, -6400, -8800, -12200, -14200, -12400]
    test_wave_200 = [2190, 4354, 6463, 8492, 10416, 12211, 13856, 15336, 16635, 17745, 18655, 19365, 19876, 20191, 20318, 20270, 20057, 19694, 19199, 18589, 17882, 17095, 16241, 15337, 14395, 13426, 12436, 11433, 10420, 9399, 8372, 7335, 6287, 5229, 4156, 3069, 1968, 856, -264, -1388, -2508, -3612, -4688, -5719, -6690, -7581, -8373, -9048, -9588, -9975, -10196, -10238, -10093, -9756, -9227, -8508, -7610, -6542, -5324, -3975, -2521, -986, 597, 2204, 3802, 5359, 6846, 8234, 9497, 10611, 11560, 12327, 12902, 13279, 13457, 13439, 13232, 12846, 12297, 11599, 10772, 9834, 8806, 7707, 6556, 5369, 4160, 2943, 1729, 523, -669, -1848, -3012, -4165, -5308, -6445, -7576, -8705, -9833, -10959, -12080, -13191, -14285, -15353, -16380, -17351, -18252, -19061, -19760, -20329, -20748, -20997, -21061, -20926, -20579, -20013, -19225, -18215, -16990, -15559, -13939, -12148, -10210, -8152, -6004, -3799, -1569, 649, 2826, 4929, 6927, 8791, 10499, 12029, 13365, 14496, 15416, 16122, 16619, 16912, 17013, 16935, 16697, 16314, 15807, 15196, 14500, 13739, 12926, 12078, 11205, 10316, 9418, 8514, 7607, 6696, 5780, 4853, 3914, 2960, 1987, 996, -13, -1041, -2083, -3131, -4176, -5205, -6203, -7152, -8035, -8833, -9524, -10090, -10511, -10772, -10857, -10756, -10461, -9968, -9279, -8399, -7339, -6112, -4738, -3239, -1642, 24, 1731, 3446, 5137, 6774, 8325, 9763, 11061, 12198, 13155, 13919, 14482, 14838, 14990, 14941, 14699, 14277, 13691, 12957, 12094, 11121, 10059, 8927, 7744, 6524, 5283, 4032, 2780, 1536, 303, -917, -2127, -3327, -4520, -5708, -6894, -8078, -9261, -10441, -11614, -12775, -13915, -15022, -16084, -17085, -18006, -18831, -19540, -20113, -20531, -20776, -20831, -20684, -20327, -19751, -18955, -17940, -16715, -15290, -13681, -11909, -9998, -7974, -5866, -3707, -1529, 634, 2754, 4799, 6740, 8551, 10208, 11693, 12992, 14093, 14991, 15686, 16177, 16473, 16584, 16525, 16311, 15958, 15487, 14915, 14262, 13548, 12787, 11997, 11189, 10377, 9570, 8775, 7999, 7247, 6523, 5828, 5166, 4539, 3947, 3395, 2882, 2413, 1988, 1608, 1275, 989, 747, 547, 386, 258, 156, 73]

    # Just enlarge the numbers
    for i in range(len(original_wave_sample)):
        original_wave_sample[i]*=1000

    print('+'*38, '[new wave, times=0]')
    new_wave_0 = filter_wave(original_wave_sample, 0)
    print(f'len(new_wave) = {len(new_wave_0)}, len(original_wave_sample) = {len(original_wave_sample)}')

    assert len(new_wave_0) == len(original_wave_sample)
    for x, y in zip(new_wave_0, original_wave_sample):
        assert x == y

    print('+'*38, '[new wave, times=1]')
    new_wave_1 = filter_wave(original_wave_sample, 1)
    print(f'len(new_wave) = {len(new_wave_1)}, len(test_wave_1) = {len(test_wave_1)}')
    assert len(new_wave_1) == len(test_wave_1)
    for x, y in zip(new_wave_1, test_wave_1):
        assert x == y

    print('+'*38, '[new wave, times=5]')
    new_wave_200 = filter_wave(original_wave_sample, 200)
    assert len(new_wave_200) == len(test_wave_200)
    print(f'len(new_wave) = {len(new_wave_200)}, len(test_wave_200) = {len(test_wave_200)}')
    for x, y in zip(new_wave_200, test_wave_200):
        assert x == y

    # to confirm that the original wave sample did not change
    print('+'*38, '[original wave]')
    print(original_wave_sample)


if __name__ == "__main__":
    questions = [
    #    question_1,
    #    question_2,
       question_3,
    #    question_4
    ]

    for q in questions:
       print('-'*38, f'[{q}]')
       q()
